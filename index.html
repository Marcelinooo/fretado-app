<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MeliAssistente T7 - Chat Simples</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Helvetica, Arial, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #ffe600 0%, #2d3277 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .whatsapp-container {
            width: 100%;
            max-width: 400px;
            height: 80vh;
            background-color: #fff;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
        }
        
        .chat-header {
            background-color: #ffe600;
            color: #2d3277;
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 2px solid #2d3277;
            position: relative;
        }
        
        .back-button {
            background: none;
            border: none;
            color: #2d3277;
            font-size: 18px;
            cursor: pointer;
            margin-right: 5极;
            display: none;
        }
        
        .logo {
            width: 42px;
            height: 42px;
            background-color: #2d3277;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #ffe600;
            font-weight: bold;
            font-size: 18px;
        }
        
        .chat-header h2 {
            font-size: 17px;
            font-weight: 600;
        }
        
        .chat-messages {
            flex: 1;
            padding: 16px;
            overflow-y: auto;
            background-color: #ece5dd;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%232d3277极 fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4极4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            display: flex;
            flex-direction: column;
        }
        
        .message {
            max-width: 80%;
            padding: 10px 14px;
            margin-bottom: 12px;
            border-radius: 18px;
            position: relative;
            animation: fadeIn 0.3s;
            line-height: 1.4;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .received {
            background-color: #ffffff;
            align-self: flex-start;
            border-top-left-radius: 5px;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            border: 1px solid #e6e6e6;
        }
        
        .sent {
            background-color: #e3极2fd;
            align-self: flex-end;
            border-top-right-radius: 5px;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            border: 1px solid #bbdefb;
            color: #2d3277;
        }
        
        .time {
            font-size: 11px;
            color: #999;
            text-align: right;
            margin-top: 3px;
        }
        
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 12px;
        }
        
        .two-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .option-button {
            background-color: #ffe600;
            color: #2d3277;
            border: none;
            border-radius: 18px;
            padding: 12px 10px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .option-button:hover {
            background-color: #f2d800;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15);
        }
        
        .back-option {
            background-color: #f5f5f5;
            color: #666;
            grid-column: span 2;
        }
        
        .back-option:hover {
            background-color: #e0e0e0;
        }
        
        .contact-option {
            background-color: #2d3277;
            color: white;
            grid-column: span 2;
        }
        
        .contact-option:hover {
            background-color: #1a1f52;
        }
        
        .whatsapp-option {
            background-color: #25D366;
            color: white;
        }
        
        .whatsapp-option:hover {
            background-color: #128C7E;
        }
        
        .route-option {
            background-color: #2d3277;
            color: white;
        }
        
        .route-option:hover {
            background-color: #1a1f52;
        }
        
        .error-option {
            background-color: #ff4444;
            color: white;
        }
        
        .error-option:hover {
            background-color: #cc0000;
        }
        
        .tools-option {
            background-color: #4CAF50;
            color: white;
        }
        
        .tools-option:hover {
            background-color: #388E3C;
        }
        
        .fixed-menu-button {
            padding: 14px;
            background-color: #f5f5f5;
            border-top: 1px solid #e6e6e6;
            display: flex;
            justify-content: center;
        }
        
        .fixed-menu-button button {
            background-color: #2d3277;
            color: white;
            border: none;
            border-radius: 24px;
            padding: 12px 24px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
            width: 100%;
            justify-content: center;
        }
        
        .fixed-menu-button button:hover {
            background-color: #1a1f52;
        }
        
        .typing-indicator {
            background-color: #ffffff;
            padding: 12px 16px;
            border-radius: 18px;
            display: inline-flex;
            align-items: center;
            margin-bottom: 10px;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            border: 1px solid #e6e6e6;
            align-self: flex-start;
        }
        
        .typing-dot {
            width: 7px;
            height: 7px;
            background-color: #2d3277;
            border-radius: 50%;
            margin: 0 3px;
            animation: typingAnimation 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typingAnimation {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-4px);
            }
        }
    </style>
</head>
<body>
    <div class="whatsapp-container">
        <div class="chat-header">
            <button class="back-button" id="header-back-button">
                <i class="fas fa-arrow-left"></i>
            </button>
            <div class="logo">ML</div>
            <h2>MeliAssistente T7</h2>
        </div>
        
        <div class="chat-messages" id="chat-messages">
            <!-- As mensagens serão adicionadas aqui via JavaScript -->
        </div>
        
        <div class="fixed-menu-button">
            <button id="fixed-main-menu-button">
                <i class="fas fa-home"></i> Menu Inicial
            </button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const chatMessages = document.getElementById('chat-messages');
            const headerBackButton = document.getElementById('header-back-button');
            const fixedMainMenuButton = document.getElementById('fixed-main-menu-button');
            
            // Histórico de menus
            let menuHistory = [];
            let selectedLine = '';
            
            // Número do Fretadão para contato
            const fretadaoContactNumber = '+5511996867473';
            
            // Links para ferramentas
            const toolsLinks = {
                'ROS': 'https://www.appsheet.com/start/d33841e5-242f-42f7-b5c4-c6480895c4d1',
                'ROF': 'https://docs.google.com/forms/d/e/1FAIpQLSd23C9jU8hrQNLp0NiRGO36ppQmP15ImFSvKUn_Jeiby6AKCg/viewform'
            };
            
            // Mapeamento de links do WhatsApp para cada linha
            const whatsappLinks = {
                '6517': 'https://chat.whatsapp.com/CwBxAXs530J6kWmsyRy5Y3?mode=ac_t',
                '6518': 'https://chat.whatsapp.com/CO5qY99AWl极BYmQ78VTHE4', 
                '6519': 'https://chat.whatsapp.com/IHvPbrPurpTC0iKbZvvbCq?mode=ac_t',
                '6523': 'https://chat.whatsapp.com/EHjGgDuVX3aALnJMcn31MY?mode=ac_t',
                '6543': 'https://chat.whatsapp.com/BsHr4OdPJv51afXS0pw3dM',
                '6544': 'https://chat.whatsapp.com/DoACBzZgT5uJ1hAvOR5YbQ?mode=ac_t',
                '6564': 'https://chat.whatsapp.com/EPXKvnaxlFiCIhKysjkrbC?mode=ac_t'
            };
            
            // Links para aplicativos
            const appLinks = {
                'Aplicativo Fretadão': {
                    'Android': 'https://play.google.com/store/search?q=FRETAD%C3%83O&c=apps&hl=pt_BR',
                    'iPhone': 'https://apps.apple.com/br/app/fretad%C3%A3o/id958725031'
                },
                'My Aghora': {
                    'Android': 'https://play.google.com/store/search?q=my+ahgora&c=apps&hl=pt_BR',
                    'iPhone': 'https://apps.apple.com/br/app/my-ahgora/id1502293191'
                },
                'Holerite Online': {
                    'Android': 'https://play.google.com/store/apps/details?id=br.com.wb2b.holeriteonline&hl=pt_BR',
                    'iPhone': 'https://apps.apple.com/br/app/holeriteonline-wb2b-procprint/id1234737064'
                },
                'Mercado Pago': {
                    'Android': 'https://play.google.com/store/search?q=mercado%20pago&c=apps&hl=pt_BR',
                    'iPhone': 'https://apps.apple.com/br/app/mercado-pago-banco-digital/id925436649'
                }
            };
            
            // Mensagem inicial do bot
            setTimeout(() => {
                addMessage('Olá, bom dia! Sou MeliAssistente T7, como posso ajudar?', 'received');
                // Chamada direta para mostrar o menu principal após a mensagem
                showMainMenu();
            }, 1000);
            
            // Função para adicionar mensagem ao chat
            function addMessage(text, type) {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('message', type);
                
                const messageText = document.createElement('div');
                messageText.textContent = text;
                
                const timeSpan = document.createElement('div');
                timeSpan.classList.add('time');
                timeSpan.textContent = getCurrentTime();
                
                messageDiv.appendChild(messageText);
                messageDiv.appendChild(timeSpan);
                
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            // Função para mostrar o menu principal
            function showMainMenu() {
                menuHistory = ['main'];
                updateBackButton();
                showOptions(['Fretados', 'Aplicativos', 'Ferramentas', 'Reportar Erro'], 'main');
            }
            
            // Função para mostrar opções de menu
            function showOptions(options, menuType) {
                // Remove opções anteriores se existirem
                const existingOptions = document.getElementById('current-options');
                if (existingOptions) {
                    existingOptions.remove();
                }
                
                const optionsContainer = document.createElement('div');
                optionsContainer.classList.add('options-container');
                
                // Verifica se precisa de layout de duas colunas
                if (options.length > 6 || menuType === 'fretadao-linhas') {
                    optionsContainer.classList.add('two-columns');
                }
                
                optionsContainer.id = 'current-options';
                
                options.forEach(option => {
                    const button = document.createElement('button');
                    button.classList.add('option-button');
                    
                    // Adiciona classe especial para botão de contato
                    if (option.includes('Entrar em contato')) {
                        button.classList.add('contact-option');
                    }
                    
                    // Adiciona classe especial para botão do WhatsApp
                    if (option.includes('Grupo do WhatsApp')) {
                        button.classList.add('whatsapp-option');
                    }
                    
                    // Adiciona classe especial para botão de rota
                    if (option.includes('Rota do Fretado')) {
                        button.classList.add('route-option');
                    }
                    
                    // Adiciona classe especial para botão de erro
                    if (option.includes('Reportar Erro')) {
                        button.classList.add('error-option');
                    }
                    
                    // Adiciona classe especial para botão de ferramentas
                    if (option.includes('Ferramentas') || option.includes('Abrir ROS') || option.includes('Abrir ROF')) {
                        button.classList.add('tools-option');
                    }
                    
                    button.textContent = option;
                    button.addEventListener('click', () => {
                        handleOptionClick(option, menuType);
                    });
                    optionsContainer.appendChild(button);
                });
                
                // Adicionar botão "Entrar em contato com o Fretadão" abaixo da lista de linhas
                if (menuType === 'fretadao-linhas') {
                    const contactButton = document.createElement('button');
                    contactButton.classList.add('option-button', 'contact-option');
                    contactButton.innerHTML = '<i class="fab fa-whatsapp"></i> Entrar em contato com o Fretadão';
                    contactButton.addEventListener('click', () => {
                        handleOptionClick('Entrar em contato com o Fretadão', 'fretadao-contact');
                    });
                    optionsContainer.appendChild(contactButton);
                }
                
                // Adicionar botão Voltar apenas para menus que não voltam ao principal
                if (menuType !== 'main') {
                    const backButton = document.createElement('button');
                    backButton.classList.add('option-button', 'back-option');
                    backButton.innerHTML = '<i class="fas fa-arrow-left"></i> Voltar';
                    backButton.addEventListener('click', goBack);
                    optionsContainer.appendChild(backButton);
                }
                
                chatMessages.appendChild(optionsContainer);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            // Função para obter a hora atual formatada
            function getCurrentTime() {
                const now = new Date();
                return `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
            }
            
            // Função para lidar com o clique nas opções
            function handleOptionClick(option, menuType) {
                addMessage(option, 'sent');
                
                // Remove os botões de opção após o clique
                const optionsContainer = document.getElementById('current-options');
                if (optionsContainer) {
                    optionsContainer.remove();
                }
                
                // Adiciona ao histórico
                if (menuType !== 'back') {
                    menuHistory.push(option);
                    updateBackButton();
                }
                
                // Simula o bot digitando
                showTypingIndicator();
                
                // Resposta baseada na opção selecionada
                setTimeout(() => {
                    // Remove o indicador de digitação
                    const typingIndicator = document.querySelector('.typing-indicator');
                    if (typingIndicator) {
                        typingIndicator.remove();
                    }
                    
                    if (option === 'Fretados') {
                        addMessage('Seu fretado é:', 'received');
                        showOptions(['Shift', 'Fretadão', 'Não sei'], 'fretados');
                    } else if (option === 'Shift') {
                        addMessage('Você selecionou Shift. Em breve nossa equipe entrará em contato para mais detalhes sobre seu fretado.', 'received');
                        setTimeout(() => {
                            addMessage('Retornando ao menu principal...', 'received');
                            showMainMenu();
                        }, 1500);
                    } else if (option === 'Fretadão') {
                        addMessage('Qual é a sua linha do Fretadão?', 'received');
                        showOptions(['Linha 6517', 'Linha 6518', 'Linha 6519', 'Linha 6523', 'Linha 6543', 'Linha 6544', 'Linha 6564', 'Não sei minha Linha'], 'fretadao-linhas');
                    } else if (option === 'Não sei') {
                        addMessage('Por favor, entre em contato com o seu TL para verificar qual é o seu fretado.', 'received');
                        setTimeout(() => {
                            addMessage('Retornando ao menu principal...', 'received');
                            showMainMenu();
                        }, 1500);
                    } else if (option === 'Aplicativos') {
                        addMessage('Qual aplicativo você precisa de ajuda?', 'received');
                        showOptions(['Aplicativo Fretadão', 'My Aghora', 'Holerite Online', 'Mercado Pago'], 'aplicativos');
                    } else if (option === 'Ferramentas') {
                        addMessage('Qual ferramenta você precisa acessar?', 'received');
                        showOptions(['Abrir ROS', 'Abrir ROF'], 'ferramentas');
                    } else if (option === 'Abrir ROS') {
                        addMessage('Abrindo Reporte de Ocorrências de Segurança...', 'received');
                        setTimeout(() => {
                            window.open(toolsLinks.ROS, '_blank');
                            addMessage('Retornando ao menu principal...', 'received');
                            showMainMenu();
                        }, 1000);
                    } else if (option === 'Abrir ROF') {
                        addMessage('Abrindo Reporte de Ocorrências do Fretado...', 'received');
                        setTimeout(() => {
                            window.open(toolsLinks.ROF, '_blank');
                            addMessage('Retornando ao menu principal...', 'received');
                            showMainMenu();
                        }, 1000);
                    } else if (option === 'Aplicativo Fretadão' || option === 'My Aghora' || option === 'Holerite Online' || option === 'Mercado Pago') {
                        addMessage(`Para qual sistema operacional você precisa do ${option}?`, 'received');
                        showOptions(['Android', 'iPhone'], `app-${option.toLowerCase().replace(' ', '-')}`);
                    } else if (option === 'Android' || option === 'iPhone') {
                        const previousMenu = menuHistory[menuHistory.length - 2];
                        const appLink = appLinks[previousMenu] && appLinks[previousMenu][option];
                        
                        if (app极ink) {
                            addMessage(`Abrindo ${option} Store...`, 'received');
                            
                            // Abre o link da app store diretamente
                            setTimeout(() => {
                                window.open(appLink, '_blank');
                                addMessage('Retornando ao menu principal...', 'received');
                                showMainMenu();
                            }, 1000);
                        } else {
                            addMessage(`Desculpe, não encontrei o link para ${previousMenu}.`, 'received');
                            setTimeout(() => {
                                addMessage('Retornando ao menu principal...', 'received');
                                showMainMenu();
                            }, 1500);
                        }
                    } else if (option === 'Não sei minha Linha' || option === 'Entrar em contato com o Fretadão') {
                        addMessage('Abrindo conversa com o Fretadão...', 'received');
                        
                        // Abre o WhatsApp com o número do Fretadão
                        setTimeout(() => {
                            window.open(`https://wa.me/${fretadaoContactNumber}`, '_blank');
                            addMessage('Retornando ao menu principal...', 'received');
                            showMainMenu();
                        }, 1000);
                    } else if (option.startsWith('Linha')) {
                        selectedLine = option;
                        addMessage(`Você selecionou a ${option}. O que você gostaria de saber?`, 'received');
                        showOptions([`Grupo do WhatsApp do Fretado (${getLineNumber(option)})`, `Rota do Fretado (${getLineNumber(option)})`], 'linha-opcoes');
                    } else if (option.includes('Grupo do WhatsApp')) {
                        const lineNumber = getLineNumber(selectedLine);
                        const whatsappLink = whatsappLinks[lineNumber];
                        
                        if (whatsappLink) {
                            addMessage(`Abrindo grupo do WhatsApp da ${selectedLine}...`, 'received');
                            
                            // Abre o link do WhatsApp diretamente
                            setTimeout(() => {
                                window.open(whatsappLink, '_blank');
                                addMessage('Retornando ao menu principal...', 'received');
                                showMainMenu();
                            }, 1000);
                        } else {
                            addMessage(`Desculpe, não encontrei o grupo da ${selectedLine}.`, 'received');
                            setTimeout(() => {
                                addMessage('Retornando ao menu principal...', 'received');
                                showMainMenu();
                            }, 1500);
                        }
                    } else if (option.includes('Rota do Fretado')) {
                        const lineNumber = getLineNumber(selectedLine);
                        const routeLink = `https://www.fretadao.com.br/fretado/${lineNumber}#modal-iframe`;
                        
                        addMessage(`Abrindo rota da ${selectedLine}...`, 'received');
                        
                        // Abre o link da rota diretamente
                        setTimeout(() => {
                            window.open(routeLink, '_blank');
                            addMessage('Retornando ao menu principal...', 'received');
                            showMainMenu();
                        }, 1000);
                    } else if (option === 'Reportar Erro') {
                        addMessage('Sobre qual serviço você gostaria de reportar um erro?', 'received');
                        showOptions(['Reportar Erro Fretado', 'Reportar Erro MeliAssistente T7'], 'reportar-erro');
                    } else if (option === 'Reportar Erro Fretado') {
                        addMessage('Abrindo Reporte de Ocorrências do Fretado...', 'received');
                        setTimeout(() => {
                            window.open(toolsLinks.ROF, '_blank');
                            addMessage('Retornando ao menu principal...', 'received');
                            showMainMenu();
                        }, 1000);
                    } else if (option === 'Reportar Erro MeliAssistente T7') {
                        addMessage('Obrigado por reportar o erro do MeliAssistente T7. Nossa equipe de TI será notificada e resolverá o problema em breve.', 'received');
                        setTimeout(() => {
                            addMessage('Retornando ao menu principal...', 'received');
                            showMainMenu();
                        }, 1500);
                    }
                }, 1500);
            }
            
            // Função para extrair o número da linha
            function getLineNumber(lineName) {
                return lineName.replace('Linha ', '');
            }
            
            // Função para voltar ao menu anterior
            function goBack() {
                if (menuHistory.length > 1) {
                    // Remove a opção atual do histórico
                    menuHistory.pop();
                    
                    // Remove os botões de opção atuais
                    const optionsContainer = document.getElementById('current-options');
                    if (optionsContainer) {
                        optionsContainer.remove();
                    }
                    
                    // Simula o bot digitando
                    showTypingIndicator();
                    
                    // Volta para o menu anterior
                    setTimeout(() => {
                        const previousMenu = menuHistory[menuHistory.length - 1];
                        
                        if (previousMenu === 'main') {
                            // Se voltando para o menu principal, chama showMainMenu diretamente
                            addMessage('Retornando ao menu principal...', 'received');
                            showMainMenu();
                        } else if (previousMenu === 'Fretados') {
                            addMessage('Seu fretado é:', 'received');
                            showOptions(['Shift', 'Fretadão', 'Não sei'], 'fretados');
                        } else if (previousMenu === 'Fretadão') {
                            addMessage('Qual é a sua linha do Fretadão?', 'received');
                            showOptions(['Linha 6517', 'Linha 6518', 'Linha 6519', 'Linha 6523', 'Linha 6543', 'Linha 6544', 'Linha 6564', 'Não sei minha Linha'], 'fretadao-linhas');
                        } else if (previousMenu === 'Aplicativos') {
                            addMessage('Qual aplicativo você precisa de ajuda?', 'received');
                            showOptions(['Aplicativo Fretadão', 'My Aghora', 'Holerite Online', 'Mercado Pago'], 'aplicativos');
                        } else if (previousMenu === 'Ferramentas') {
                            addMessage('Qual ferramenta você precisa acessar?', 'received');
                            showOptions(['Abrir ROS', 'Abrir ROF'], 'ferramentas');
                        } else if (previousMenu.startsWith('app-')) {
                            const appName = previousMenu.replace('app-', '').replace('-', ' ');
                            addMessage(`Para qual sistema operacional você precisa do ${appName}?`, 'received');
                            showOptions(['Android', 'iPhone'], previousMenu);
                        } else if (previousMenu === 'Reportar Erro') {
                            addMessage('Sobre qual serviço você gostaria de reportar um erro?', 'received');
                            showOptions(['Reportar Erro Fretado', 'Reportar Erro MeliAssistente T7'], 'reportar-erro');
                        } else if (previousMenu.startsWith('Linha')) {
                            selectedLine = previousMenu;
                            addMessage(`Você selecionou a ${previousMenu}. O que você gostaria de saber?`, 'received');
                            showOptions([`Grupo do WhatsApp do Fretado (${getLineNumber(previousMenu)})`, `Rota do Fretado (${getLineNumber(previousMenu)})`], '极nha-opcoes');
                        }
                    }, 1000);
                }
            }
            
            // Função para ir diretamente para o menu principal
            function goToMainMenu() {
                // Remove os botões de opção atuais
                const optionsContainer = document.getElementById('current-options');
                if (optionsContainer) {
                    optionsContainer.remove();
                }
                
                // Simula o bot digitando
                showTypingIndicator();
                
                // Vai para o menu principal
                setTimeout(() => {
                    addMessage('Retornando ao menu principal...', 'received');
                    showMainMenu();
                }, 1000);
            }
            
            // Atualiza a visibilidade do botão de voltar no header
            function updateBackButton() {
                if (menuHistory.length > 1) {
                    headerBackButton.style.display = 'block';
                } else {
                    headerBackButton.style.display = 'none';
                }
            }
            
            // Configura o botão de voltar do header
            headerBackButton.addEventListener('click', goBack);
            
            // Configura o botão fixo do menu inicial
            fixedMainMenuButton.addEventListener('click', goToMainMenu);
            
            // Função para mostrar indicador de digitação
            function showTypingIndicator() {
                const typingDiv = document.createElement('div');
                typingDiv.classList.add('typing-indicator');
                
                for (let i = 0; i < 3; i++) {
                    const dot = document.createElement('div');
                    dot.classList.add('typing-dot');
                    typingDiv.appendChild(dot);
                }
                
                chatMessages.appendChild(typingDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        });
    </script>
</body>
</html>
